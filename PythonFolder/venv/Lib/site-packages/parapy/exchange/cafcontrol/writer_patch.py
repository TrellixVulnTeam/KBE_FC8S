#!/usr/bin/env python
# -*- coding: utf-8 -*-
#
# Copyright (C) 2016-2021 ParaPy Holding B.V.
#
# This file is subject to the terms and conditions defined in
# the license agreement that you have received with this source code
#
# THIS CODE AND INFORMATION ARE PROVIDED "AS IS" WITHOUT WARRANTY OF ANY
# KIND, EITHER EXPRESSED OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE
# IMPLIED WARRANTIES OF MERCHANTABILITY AND/OR FITNESS FOR A PARTICULAR
# PURPOSE.

#!/usr/bin/env python
# -*- coding: utf-8 -*-
#
# Copyright (C) 2016-2018 ParaPy Holding B.V.
#
# This file is subject to the terms and conditions defined in
# the license agreement that you have received with this source code
#
# THIS CODE AND INFORMATION ARE PROVIDED "AS IS" WITHOUT WARRANTY OF ANY
# KIND, EITHER EXPRESSED OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE
# IMPLIED WARRANTIES OF MERCHANTABILITY AND/OR FITNESS FOR A PARTICULAR
# PURPOSE.

from OCC.wrapper.gp import gp_Pnt
from OCC.wrapper.BRepBuilderAPI import BRepBuilderAPI_MakeVertex

from parapy.core.abstract import DrawableParaPyObject
from parapy.geom.generic.positioning import AbstractPoint


def DrawableParaPyObject_xcaf_shape(self):
    return self.TopoDS_Shape


def AbstractPoint_xcaf_shape(self):
    return BRepBuilderAPI_MakeVertex(gp_Pnt(*self)).Shape()


def apply_patch():
    DrawableParaPyObject._xcaf_shape = DrawableParaPyObject_xcaf_shape
    AbstractPoint._xcaf_shape = AbstractPoint_xcaf_shape
